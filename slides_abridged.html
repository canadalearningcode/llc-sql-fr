<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Femmes en programmation</title>
  <link rel="stylesheet" href="framework/css/inspire.css" data-noprefix>
  <link rel="stylesheet" href="framework/css/fonts.css" data-noprefix>
  <link rel="stylesheet" href="framework/css/highlightjs/github.css" data-noprefix>
  <link rel="stylesheet" href="framework/css/styles.css" data-noprefix>
  <link rel="stylesheet" href="framework/css/a11y/plugin.css" data-noprefix>
  <link rel="shortcut icon" href="framework/img/favicon.ico">

  <!-- S'occupe des préfixes CSS3 -->
  <script src="framework/scripts/prefixfree.min.js"></script>

  <!-- Ouvre tous les liens dans une nouvelle fenêtre -->
  <base target="_blank">
</head>

<body class="en">
  <section>
    <article class="slide welcome highlight">
      <h1><img class="logo-stacked" src="framework/img/llc-logo-stacked-white.png" alt="Logo de Femmes en programmation">Bienvenue!</h1>

      <div class="instructions">
        <!-- AJOUTEZ LES INFOS DU WI-FI ICI -->
        <h2>Ouvrez, <br>téléchargez <br>ou installez</h2>
        <ol class="downloads">
          <!--<li>Fichiers d'apprentissage (fichier zip): <a href="https://github.com/ladieslearningcode/llc-sql-fr/archive/master.zip">http://bit.ly/clc-sql-fr</a>
            <ul>
              <li>Extraire les fichiers du zip (<em>décompresser</em>, si vous utilisez Windows)</li>
              <li>Ouvrir <em>slides_abridged.html</em> dans votre navigateur web pour visionner les diapositives</li>
            </ul>
          </li>-->
          <li>Diapositives : <a href="https://ladieslearningcode.github.io/llc-sql-fr/slides_abridged.html">https://ladieslearningcode.github.io/llc-sql-fr/slides_abridged.html</a></li>
          <li>Les données : <a href="https://bit.ly/cnf_db_fr">https://bit.ly/cnf_db_fr</a></li>
          <li>SQLite Online : <a href="https://sqliteonline.com/">https://sqliteonline.com/</a></li>
        </ol>
      </div>
      <footer>
        <a class="left" rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Licence Creative Commons" src="framework/img/cc-by-nc.png" /></a>
        <p class="left">Contenu créé par <a href="https://ca.linkedin.com/in/matt-baum">Matthew Baum</a> pour <a prefix="cc: http://creativecommons.org/ns#" href="https://www.canadalearningcode.ca/fr/accueil/" property="cc:attributionName" rel="cc:attributionURL">Canada en programmation</a></p>
        <p class="right">Utilisez les flèches gauche <span class="arrow">&#8592;</span> et droite <span class="arrow">&#8594;</span> pour naviguer</p>
      </footer>
    </article>

    <article class="slide intro">
      <img class="logo" src="framework/img/llc-logo-white.png" alt="Logo de Femmes en programmation">
      <h1 class="heading-bg">
        <span>Gestion de données avec le SQL</span>
      </h1>
      <ul>
        <li><a href="http://twitter.com/learningcode">@learningcode</a></li>
        <li><a href="https://twitter.com/search?q=%23femmesenprogrammation&src=typd">#femmesenprogrammation</a></li>
      </ul>
      <!-- INDIQUEZ LES INFOS DU RESPONSABLE DE LA FORMATION -->
      <!--<img class="instructor" src="http://placehold.it/225x225" alt="Nom du responsable de la formation">
      <h2><span class="cursive">avec</span> Nom du responsable de la formation</h2>
      <ul>
        <li><a href="mailto:">moncourriel@courriel.com</a></li>
        <li><a href="http://monsiteweb.com">siteweb.com</a></li>
        <li><a href="http://twitter.com/">@twitter</a></li>
      </ul>-->
      <!--<div class="sponsor">
        <p>En partenariat avec<br> <img src="framework/img/google-org-logo.svg" alt="Google.org"></p>
      </div>-->
      <footer>
        <a class="left" rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Licence Creative Commons" src="framework/img/cc-by-nc.png" /></a>
        <p class="left">Contenu créé par <a href="https://ca.linkedin.com/in/matt-baum">Matthew Baum</a> pour <a prefix="cc: http://creativecommons.org/ns#" href="https://www.canadalearningcode.ca/fr/accueil/" property="cc:attributionName" rel="cc:attributionURL">Canada en programmation</a></p>
        <p class="right">Utilisez les flèches gauche <span class="arrow">&#8592;</span> et droite <span class="arrow">&#8594;</span> pour naviguer</p>
      </footer>
    </article>
  </section>

  <header class="slide title" data-toc>
    <h2>Introduction</h2>
  </header>

  <section>
    <article class="slide" data-markdown>
      <script type="text/template">
        #Le projet

        Les données sont omniprésentes dans nos vies et, comme nous le verrons, le SQL est un langage efficace permettant l'extraction d'informations utiles d'un grand volume de données.

        Nous travaillerons avec des données réelles du gouvernement du Canada. Plus précisément, le [Fichier canadien sur les éléments nutritifs (FCÉN)](https://www.canada.ca/fr/sante-canada/services/aliments-nutrition/saine-alimentation/donnees-nutritionnelles.html)!

        Cette base de données contient des informations nutritionnelles pour plus de 5 000 aliments, publiées par Santé Canada.

        Nous commencerons par couvrir les bases du SQL et nous explorerons ensuite ces données en réalisant des exercices.
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Que pouvez-vous faire avec le SQL?

        Le SQL est utilisé dans les bases de données de différents secteurs, y compris :

        * Soutien à la clientèle
        * Marketing
        * Ventes
        * Finances
        * Avez-vous entendu parler de « Business intelligence » (BI)?

        > Qu'en pensez-**vous**? Qu'est-ce qui vous a motivé à vous joindre à nous?
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Ce que nous allons aborder

        1. Que sont les données, les bases de données et le SQL?
        1. Chercher du texte/des mots clés
        1. Trouver des données précises
        1. Classer des données en ordre
        1. Regrouper des résultats
        1. Calculer de simples statistiques
        1. Joindre des données associées
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Premiers pas avec Zoom

        ![Pour activer ou désactiver le micro dans Zoom, cliquez sur le bouton de micro en bas à gauche de l’écran. S’il y a une barre rouge, le micro est désactivé et personne ne peut vous entendre. C’est la même chose pour la webcam.](framework/img/workshop/zoom_fr_1.svg)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Premiers pas avec Zoom

        ![Vous pouvez accéder à la fonction de clavardage de Zoom en cliquant sur le bouton « Converser » en bas à droite de l’écran. Utilisez le clavardage si vous avez une question ou voulez partager quelque chose avec le groupe.](framework/img/workshop/zoom_fr_2.svg)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Premiers pas avec Zoom

        ![Pour lever la main virtuellement, cliquez sur le bouton « Participants ».](framework/img/workshop/zoom_fr_3.svg)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Premiers pas avec Zoom

        ![en cours](framework/img/workshop/zoom_fr_4.svg)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Le code des programmeuses

        1. Soyez enthousiastes et accueillantes.
        1. Respectez les autres en choisissant bien vos mots et vos actions.
        1. Respectez l'espace des autres pendant les discussions.
        1. Posez des questions.
        1. Prenez soin de votre corps.
        1. Aucun enregistrement audio/vidéo n'est autorisé.
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
      #Préparation

      1. Ouvrez SQLite dans votre navigateur : ([https://sqliteonline.com/](https://sqliteonline.com/)).
      1. Cliquez sur le livre en bas à droite de votre écran afin de simplifier l'interface.
      ![Cliquez sur le livre](framework/img/workshop/online_book.png)

      1. Sélectionnez « File » et « Open DB ».<br>
      ![Sélectionnez File, Open DB](framework/img/workshop/online_file.png)

      1. Naviguez vers /data/cnf.db <!--dans le dossier du cours.-->
      1. Cliquez sur « Ouvrir ».
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
      Vous devriez obtenir une liste de tables (tableaux) à la gauche de votre écran :

      ![SQLite Online dans le navigateur](framework/img/workshop/online_open_browser.png)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Parfait!
        Notre environnement est prêt et nous pouvons retourner aux diapos.

        Nous aborderons SQLite Online plus tard.
      </script>
    </article>
  </section>
  <section>
    <header class="slide title" data-toc>
      <h1>Les données</h1>
    </header>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Que sont les données?

        Les technologies de l'information et les données font partie intégrante de nos vies.
        À présent, plus d'information est générée chaque année que dans toute l'histoire de l'humanité avant la création de l'Internet.

        Mais, **qu'est-ce qu'une donnée, exactement?**

        Qu'en pensez-vous? (question au groupe)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Les données :

        * Sont des unités d'information/des faits (l'âge d'une personne, le prix d'une maison, etc.)
        * Peuvent être structurées (une liste d'épicerie, un relevé de compte, etc.)
        * Peuvent avoir un **type** (un nombre, du texte, etc.)
        * Données numériques : peuvent être encodées et enregistrées sur des ordinateurs ou transmises d'un appareil à un autre
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Utilisations des données

        Maintenant que nous avons une idée de ce qu'est une donnée, pouvez-vous penser à quelques cas ou vous en utilisez dans vos vies quotidiennes?

        * Courriel : Envoyer et recevoir des données textuelles<!-- .element: class="delayed" -->
        * Excel : Enregistrer et analyser des données tabulaires<!-- .element: class="delayed" -->
        * Appels téléphoniques : Échange de données audio<!-- .element: class="delayed" -->
        * Diffusion vidéo : Lecture d'une séquence de données visuelles (des images)<!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Décoloniser les données

        Il est important de faire une analyse critique des données en vérifiant la source : d’où proviennent les données? Qui contrôle les données?

        Les données que nous utilisons aujourd’hui ne sont pas exemptes de biais et de mentalité colonialiste. La politique de nutrition au Canada a été déterminée par le scientifique qui a rédigé les premières règles alimentaires du Canada. Celui-ci a utilisé des données exploitant les enfants autochtones dans les pensionnats en menant des expériences sur ces derniers.

        Selon Abigail Echo-Hawk (du Seattle Indian Health Board), pour décoloniser les données, il faut que la communauté elle-même choisisse les informations qu’elle souhaite que nous collections. Abigail nous invite aussi à collecter les données d’une manière qui sert réellement la communauté.
        <br><br>

        > <strong>Références</strong><br><ul><li><a href="https://crosscut.com/2019/05/abigail-echo-hawk-art-and-science-decolonizing-data">Abigail Echo-Hawk sur l’art et la science de la décolonisation des données (Crosscut)</a></li><li><a href="https://www.cbc.ca/radio/unreserved/how-food-in-canada-is-tied-to-land-language-community-and-colonization-1.5989764/the-dark-history-of-canada-s-food-guide-how-experiments-on-indigenous-children-shaped-nutrition-policy-1.5989785"><em>The dark history of Canada's Food Guide: How experiments on Indigenous children shaped nutrition policy</em> (CBC)</a></li><li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3941673/"><em>Canada's shameful history of nutrition research on residential school children: The need for strong medical ethics in Aboriginal health research.</em></a></li></ul>

      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        # Manipulation de données

        Les diverses manipulations de données possibles sont souvent exprimées par l'acronyme anglais « CRUD » :

        * **C**reate : création
        * **R**ead : lecture
        * **U**pdate : mise à jour
        * **D**elete : suppression
      </script>
    </article>
  </section>

  <section>
    <header class="slide title" data-toc>
      <h1>Bases de données</h1>
    </header>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Qu'est-ce qu'une base de données?

        Nous avons à présent une idée de ce qu'est une donnée, mais qu'est-ce qu'une base de données (BD)?

        * Données structurées sur lesquelles on peut effectuer des requêtes (on peut poser des questions sur ces données)<!-- .element: class="delayed" -->
        * Données reliées entre elles (p. ex. une personne et ses informations d'emploi)<!-- .element: class="delayed" -->

        <div>
        > Il existe plusieurs types de bases de données, mais nous allons voir les **BD relationnelles**!
        </div><!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Des données dans une table
        Voici un exemple de données sur des personnes identifiées par leur NAS :

        ![Table d'une base de données](framework/img/workshop/table_diagram.png)
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #BD relationnelles

        * Des données **semblables** sont enregistrées dans une **table** (ou un tableau), ce qu'on appelle une **relation** (p ex. personnes, villes).
        * Les **colonnes** d'une table décrivent des **attributs** des données (ex.: nom et âge d'une personne).
        * Les **lignes** d'une table représentent des **objets de données** (ex.: une personne avec tous ses attributs).
        * Chaque ligne est identifiée uniquement par une **clé** (p. ex. un NAS).
          * Ces clés uniques sont des **clés primaires**.
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Notre BD

        Nous allons travailler avec **SQLite Online**, un gestionnaire de BD simple prenant en charge le langage SQL.

        SQLite Online est gratuit et a peu d'exigences d'installation. Il est couramment utilisé par les applications iOS et Android.

        C'est un bon outil d'apprentissage et tout ce que nous verrons est applicable aux autres BD relationnelles utilisant le SQL.

        Nous sommes maintenant prêts à apprendre le langage SQL!
      </script>
    </article>
  </section>

  <section>
    <header class="slide title" data-toc>
      <h1>SQL</h1>
    </header>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Qui utilise le SQL?

        Le SQL est **le langage le plus commun** pour effectuer des requêtes vers une BD et des **millions d'entreprises et de produits**  l'utilisent pour gérer leurs données.

        Voici quelques companies qui l'utilisent :

        * Facebook
        * Youtube
        * Netflix
        * Uber
        * Twitter

        Source : <a href="https://www.mysql.com/customers/industry/?id=">Clients MySQL</a>
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Eh oui! Le SQL est partout!

        ![Gif utilisateurs SQL](https://media.giphy.com/media/atZII8NmbPGw0/giphy.gif)
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Introduction au SQL

        Maintenant que nous avons une idée de ce qu'est une BD, nous allons manipuler nos données!

        Le **SQL** (**S**tructured **Q**uery **L**anguage, « langage de requête structurée ») sert à définir, à modifier et à lire des données (CRUD).

        Nous allons nous concentrer sur l'aspect du SQL qui nous permet de poser des questions sur nos données (des requêtes).

        Voyons à quoi ça ressemble!
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Anatomie d'une requête SQL

        Il s'agit d'une « question » pour une BD formée de **clauses** (comme les phrases d'un paragraphe).

        Les clauses SQL comprennent des **mots-clés** avec des noms de **colonnes** et de **tables** pour localiser les données recherchées.

        1. La première clause commence par `SELECT`, suivi des colonnes recherchées.
        2. La deuxième clause commence par `FROM`, suivi des noms des tables contenant les données.
        3. La requête se termine par `;`.

        > Remarque : Le SQL n'est **pas sensible à la casse**.
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exemple d'une requête SELECT

        Une requête de base ressemble à :

        ```sql
        SELECT FoodDescriptionF
        FROM FOOD_NAME;
        ```

        Ceci retourne la valeur de la colonne `FoodDescriptionF` pour **chaque ligne** de `FOOD_NAME`.

        > Et si on voulait toutes les colonnes de la table? Doit-on connaître le nom de chaque colonne?
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Métacaractères SQL

        Les **métacaractères** sont des caractères spéciaux qui peuvent remplacer n'importe quel autre caractère (lettre, nombre, symbole, etc.) dans une requête.

        Ils ressemblent au joker dans certains jeux de cartes, car ceux-ci peuvent prendre n'importe quelle autre valeur.

        Le premier métacaractère que nous verrons aujourd'hui est :

        * `*`, qui est habituellement utilisé pour sélectionner toutes les colonnes disponibles dans une clause `SELECT`.

        > Il y a d'autres métacaractères plus précis et documentés [ici](https://www.w3schools.com/sql/sql_wildcards.asp).

      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 1

        1. Écrivez la requête suivante et appuyez sur le bouton Run (exécuter) ![Run Button](framework/img/workshop/online_run.png).

        ```sql
        SELECT *
        FROM FOOD_NAME;
        ```

        Vous devriez obtenir un résultat comme celui-ci sous votre requête :
        ![Solution 1](framework/img/workshop/online_grp_ex_1.png)<!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # La clause « WHERE »

        Et si nous voulions seulement retourner certaines entrées de nos données?

        La clause `WHERE` **peut** suivre la clause `FROM` et permet de filtrer ainsi :

        ```sql
        SELECT *
        FROM FOOD_NAME
        WHERE colonne opérateur valeur;
        ```

        Où :

        1. **colonne** est l'attribut que l'on veut filtrer.
        2. **opérateur** est le type de validation à faire (p. ex. `=`, `<`, `>`, `<=`, `>=`).
        3. **valeur** est la valeur à valider (p ex. un **chiffre**).
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 2a

        Modifions la requête précédente en lui ajoutant une clause `WHERE` :

        Utilisez la condition `FoodID = 5` afin de sélectionner seulement l'aliment avec l'ID `5` :
        ```sql
        SELECT *
        FROM FOOD_NAME
        WHERE FoodID = 5;
        ```
        <!-- .element: class="delayed" -->

        <div>
        Le résultat ressemblera à ceci :
        ![Solution 2a](framework/img/workshop/online_ex2a_solution.png)
        </div><!-- .element: class="delayed" -->

      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 2b

        Concevez une requête pour sélectionner tous les ID **jusqu'à (et incluant)** `10` :

        ```sql
        SELECT *
        FROM FOOD_NAME
        WHERE FoodID <= 10;
        ```
        <!-- .element: class="delayed" -->

        <div>
        Le résultat ressemblera à ceci :

        ![Solution 2b](framework/img/workshop/online_ex2b_solution.png)
        </div><!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Filtrer le texte avec « LIKE »

        Nous venons de filtrer des résultats en comparant des valeurs numériques, mais pouvons-nous chercher du texte?

        `LIKE` existe pour cette raison :

        ```sql
        WHERE ma_colonne LIKE "votre texte ici"
        ```

        1. Utilisez `"` autour du texte.
        2. Utilisez `%` pour correspondre à n'importe quels caractères (il s'agit d'un métacaractère).
            * `"pomme%"` valide tous les textes **commençant** par `"pomme"`.
            * `"%pomme"` doit se **terminer** par `"pomme"`.
            * `"%pomme%"` doit contenir `"pomme"` **quelque part**.
            * `"pomme"` ne valide que ce texte **exact**.
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 3

        Prenez quelques minutes pour :

        1. Choisir quelques **termes** à rechercher dans la table `FOOD_NAME`.
        2. Expérimenter la sélection de diverses chaînes de caractères (texte).
        3. Expérimenter l'utilisation des métacaractères.

        ```sql
        SELECT *
        FROM FOOD_NAME
        WHERE FoodDescriptionF LIKE "%pomme%";
        ```
        <!-- .element: class="delayed" -->

        ![Solution 3](framework/img/workshop/online_ex3_solution.png)<!-- .element: class="delayed" -->

      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Classer des données

        On peut trier des résultats en utilisant la clause `ORDER BY` après les clauses `FROM` et `WHERE` :

        ```sql
        SELECT *
        FROM ma_table
        ORDER BY ma_colonne (ASC ou DESC)
        ```

        Où :

        * **ma_colonne** est la colonne à classer.
        * **(ASC ou DESC)**: `ASC` pour classer en ordre ascendant ou `DESC` pour classer en ordre descendant.

        Essayons-le!
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 4

        Réutilisons notre dernière requête avec `LIKE` et modifions-la pour :

        1. Classer les données sur `FoodID`, de la plus grande à la plus petite.
        2. Classer les résultats en ordre ascendant sur `FoodDescriptionF`.

        ```sql
        SELECT FoodID, FoodGroupID, FoodSourceID, FoodDescriptionF
        FROM FOOD_NAME
        WHERE FoodDescriptionF LIKE "%pomme%"
        ORDER BY FoodID DESC;
        ```
        <!-- .element: class="delayed" -->

        ![Solution 4](framework/img/workshop/online_ex4_solution.png)<!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Regrouper des résultats

        La clause `GROUP BY` combine des lignes de données et calcule des valeurs sommaires pour chaque groupe formé.

        ```sql
        GROUP BY ma_colonne
        ```

        Ceci combine des données avec des valeurs identiques dans la colonne `ma_colonne`, les mettant toutes dans le même « panier » selon la valeur de la colonne choisie.
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        À titre d'exemple, le groupement suivant sur la table Professeurs
        place les résultats dans deux paniers. Quelle valeur doit prendre Salaire dans chaque cas?

        ![Diagramme GROUP BY](framework/img/workshop/group_by_diagram.png)
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Fonctions du SQL

        Imaginez qu'on regroupe des lignes de données semblables dans des boîtes communes.

        Que pourrions-nous vouloir savoir à propos du contenu de nos boîtes?

        <ul>
          <li>Le **nombre** d'éléments dans la boîte : `COUNT(*)`.</li><!-- .element: class="delayed" -->
          <li>La **valeur moyenne** d'une colonne : `AVG(colonne)`.</li><!-- .element: class="delayed" -->
          <li>La **somme** d'une colonne : `SUM(colonne)`.</li><!-- .element: class="delayed" -->
          <li>La **plus petite** valeur dans une colonne : `MIN(colonne)`.</li><!-- .element: class="delayed" -->
          <li>La **plus grande** valeur dans une colonne : `MAX(colonne)`.</li><!-- .element: class="delayed" -->
        </ul>
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Retour à GROUP BY

        Comment pouvons-nous trouver le nombre d'aliments dans chaque groupe alimentaire?

        ```sql
        SELECT FoodGroupID, COUNT(FoodID) AS "Aliments dans le groupe"
        FROM FOOD_NAME
        GROUP BY FoodGroupID;
        ```

        Les colonnes **à l'extérieur** des fonctions dans la clause `SELECT` s'affichent normalement dans la clause `GROUP BY`.

        Les autres colonnes sont des calculs sur toutes les lignes du groupe.
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Joindre des tables

        Nous voulons manipuler des données reliées provenant de tables **différentes** en **faisant correspondre des ID**.

        Il y a différentes façons de faire des jointures avec le SQL. Nous allons nous concentrer sur `INNER JOIN` (ou simplement `JOIN`) :

        ```sql
        SELECT colonnes
        FROM table1 JOIN table2 ON table1.colonne = table2.colonne;
        ```

        > Pour faire d'autres jointures, cherchez `OUTER JOIN` (`LEFT`, `RIGHT` ou `FULL`) et `NATURAL JOIN` en ligne. Des tables peuvent aussi être combinées dans la clause `WHERE`.
      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Diagramme relationnel

        Des lignes dans deux tables distinctes peuvent être reliées en faisant correspondre leur ID :

        ![Diagramme relationnel](framework/img/workshop/relationship.png)
        ![Tables dans un diagramme relationnel](framework/img/workshop/rd_tables.png)

      </script>
    </article>

    <article class="slide" data-markdown>
      <script type="text/template">
        #Liens

        Deux lignes dans des tables différentes peuvent être associées en utilisant la clé primaire (CP), établissant un **lien** entre elles. Par exemple :

        <ol>
          <li>Une ligne dans la table `PERSONNE` décrit `Marie`. Sa CP est son NAS : `123456789`.</li><!-- .element: class="delayed" -->
          <li>Une ligne dans la table `VILLE` décrit `Montréal`. Sa CP est le code : `YUL`.</li><!-- .element: class="delayed" -->
          <li>Les valeurs dans la colonne `VILLE_NATALE` de `PERSONNE` **correspondent** aux CP dans `VILLE`.</li><!-- .element: class="delayed" -->
          <li>Dans le cas de Marie, la valeur est `YUL`.</li><!-- .element: class="delayed" -->
          <li>Par conséquent, les données de Marie sont liées à celles de sa ville natale par ce **lien**.</li><!-- .element: class="delayed" -->
        </ol>
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Visualiser JOIN

        Ce diagramme de Venn représente l'opération `INNER JOIN`, qui retourne **seulement** les lignes qui ont des **valeurs identiques** pour la colonne choisie dans **les deux tables** :

        ![Diagramme de Venn INNER JOIN](framework/img/workshop/venn_inner_join.png)

        > Des diagrammes pour les autres types de jointures sont disponibles [ici](https://www.w3schools.com/sql/sql_join.asp).
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 5 : Préparation

        Dans le panneau de gauche de SQLite Online, ouvrez les tables suivantes pour afficher leurs colonnes :

        1. `NUTRIENT_NAME`
        1. `NUTRIENT_AMOUNT`

        ![Colonnes des tables](framework/img/workshop/online_tbl_cols_update.png)

        > Quelle est la colonne commune à ces tables qui nous permet de les joindre?

        Réponse : `NutrientID`<!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 5 : l'énoncé JOIN

        Joignons les tables `NUTRIENT_NAME` et `NUTRIENT_AMOUNT` afin d'obtenir les informations nutritionnelles pour l'aliment avec l'ID `20` (fromage brie) :

        ```sql
        SELECT NutrientNameF, NutrientValue
        FROM NUTRIENT_NAME
          JOIN NUTRIENT_AMOUNT ON NUTRIENT_NAME.NutrientID = NUTRIENT_AMOUNT.NutrientID
        WHERE NUTRIENT_AMOUNT.FoodID = 20;
        ```
        <!-- .element: class="delayed" -->

        ![Solution 5](framework/img/workshop/online_ex5_solution_update.png)<!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Joindre plus de deux tables

        Il est possible de joindre plus de deux tables dans la même requête.

        Exerçons-nous en combinant 3 tables afin d'ajouter les noms des aliments à notre requête précédente :

        ```sql
        SELECT NutrientNameF, NutrientValue, FoodDescriptionF
        FROM NUTRIENT_NAME
          JOIN NUTRIENT_AMOUNT ON NUTRIENT_NAME.NutrientID = NUTRIENT_AMOUNT.NutrientID
          JOIN FOOD_NAME ON FOOD_NAME.FoodID = NUTRIENT_AMOUNT.FoodID
        WHERE FOOD_NAME.FoodID = 20;
        ```
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Les alias de table

        Une requête avec plusieurs noms de tables répétés peut être simplifiée de la façon suivante :

        ```sql
        SELECT NutrientNameF, NutrientValue, FoodDescriptionF
        FROM NUTRIENT_NAME nn
          JOIN NUTRIENT_AMOUNT na ON nn.NutrientID = na.NutrientID
          JOIN FOOD_NAME fn ON fn.FoodID = na.FoodID
        WHERE fn.FoodID = 20;
        ```

        > Remarquez l'inclusion **d'alias** (**fn**, **na** et **nn**) pour raccourcir le texte. Vous pouvez choisir les alias que vous voulez.
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 6 (facultatif)

        Exerçons-nous à joindre d'autres tables :

        1. Observez les tables `FOOD_NAME`, `REFUSE_AMOUNT` et `REFUSE_NAME`.
        1. Quels champs pourraient nous permettre de combiner ces tables?
        1. Sélectionnez un aliment de votre choix.
        1. Écrivez une requête pour « imprimer » les quantités de chaque type de déchet ("refuse") produit par une portion de votre aliment.
        1. Chaque ligne du résultat doit inclure : le **nom de l'aliment**, le **type de déchet**, la **quantité du déchet**.

      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exercice 6 : solutions

        Votre requête devrait ressembler à :

        ```sql
        SELECT FoodDescriptionF, RefuseDescriptionF, RefuseAmount
        FROM FOOD_NAME fn
             JOIN REFUSE_AMOUNT ra ON fn.FoodID = ra.FoodID
             JOIN REFUSE_NAME rn ON ra.RefuseID = rn.RefuseID
        WHERE fn.FoodID = 600;
        ```
        <!-- .element: class="delayed" -->

        <div>
        Le résultat devrait ressembler à :

        ![Solution 6](framework/img/workshop/ex6_solution.png)
        </div><!-- .element: class="delayed" -->
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Les maths avec le SQL

        Finalement, apprenons comment effectuer des calculs mathématiques sur nos colonnes avant de retourner un résultat!

        Ceci est utile pour modifier des colonnes numériques et obtenir un rapport précis.

        Les opérateurs mathématiques communs sontx:

        * Addition : `+`
        * Soustraction : `-`
        * Multiplication : `*`
        * Division : `/`
        * Modulo : `%` (valeur restante après une division par un nombre entier)
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        # Exemple de maths

        La BD CNF affiche les nutriments pour une portion de 100 g. Comment obtenir les quantités nutritionnelles par gramme?

        Nous pouvons obtenir les nutriments par gramme pour du fromage brie de la façon suivante :

        ```sql
        SELECT NutrientNameF, (NutrientValue/100) AS "Nutriment par gramme"
        FROM FOOD_NAME fn
             JOIN NUTRIENT_AMOUNT na ON fn.FoodID = na.FoodID
             JOIN NUTRIENT_NAME nn ON na.NutrientID = nn.NutrientID
        WHERE fn.FoodID = 20;
        ```
        <!-- .element: class="delayed" -->

        <div>
        > Nous effectuons ici un calcul sur une valeur fixe, mais nous pouvons aussi effectuer des maths sur des colonnes.
        </div><!-- .element: class="delayed" -->
      </script>
    </article>
  </section>

  <section>
    <header class="slide title" data-toc>
      <h1>Défis</h1>
    </header>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Introduction

        Le monde de l'alimentation n'est pas toujours évident!

        En tant qu'expertes dans le domaine, vous utilisez les données pour faire des recommandations aux étranges personnages visitant vos bureaux.

        Tentez de résoudre chacun des problèmes suivants avec **une seule requête** afin de mettre à l'épreuve vos connaissances en SQL.

        Amusez-vous!
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 1 : Groupes critiques

        Mademoiselle Flam Boyante, la critique culinaire la plus populaire de la France, est en visite au Canada!

        Elle a entendu parler de nos curieux « groupes alimentaires » et nous fait une requête toute simple.

        Voici sa requête :

        * Une liste complète des groupes alimentaires
        * Le nombre total d'aliments dans chaque groupe
        * Les groupes doivent être classés du plus grand (nombre d'aliments) au plus petit.

        > Trouvez-lui cette information avant qu'elle se rue sur les médias sociaux pour vous laisser un mauvais commentaire!
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 1 : Solution

        ```sql
        SELECT FoodGroupNameF, COUNT(*) AS NombreAliments
        FROM FOOD_NAME fn JOIN FOOD_GROUP fg
            ON fn.FoodGroupID = fg.FoodGroupID
        GROUP BY fg.FoodGroupID
        ORDER BY NombreAliments DESC;
        ```
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 2 : D'la verdure!

        Brock O. Li adopte une nouvelle diète faible en glucides.

        Il recherche des aliments répondant aux critères suivants :

        * Doit être un **légume**
        * Doit inclure le mot **vert** dans sa description
        * Doit contenir **moins de 10 grammes de glucides** par portion de 100 grammes

        Votre client veut un simple tableau affichant ces aliments avec leurs noms et les grammes de glucides contenus dans chaque portion, du plus petit au plus grand.

        > **Indice** : Quel est le groupe alimentaire des légumes? Quel est l'ID des glucides? Quelles sont les deux tables à joindre?
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 2 : Solution

        ```sql
        SELECT FoodDescriptionF, NutrientValue AS "Grammes de glucides"
        FROM FOOD_NAME fn JOIN NUTRIENT_AMOUNT na ON fn.FoodID = na.FoodID
        WHERE FoodGroupID = 11
            AND FoodDescriptionF LIKE "%vert%"
            AND NutrientID = 205
            AND NutrientValue < 10
        ORDER BY NutrientValue ASC;
        ```
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 3 : Plan zigzag

        Amélie A. Archambault a toujours détesté la lettre « z ».

        Cette phobie très rare la laisse à présent dans un état de santé précaire : elle a une carence en zinc!

        Une femme de son âge requiert `8mg` de zinc quotidiennement.

        Son médecin recommande le traitement suivant :

        * Consommer des aliments contenant **au moins la moitié** la dose quotidienne de zinc dans chaque portion de 100g.
        * Consommer des aliments contenant la lettre « z » dans leur description pour se désensibiliser à la phobie.

        > Exécutez une requête rapidement pour l'aider à trouver des aliments acceptables!
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 3 : Solution

        ```sql
        SELECT FoodDescriptionF, NutrientValue
        FROM FOOD_NAME fn JOIN NUTRIENT_AMOUNT na
            ON fn.FoodID = na.FoodID
        WHERE NutrientID = 309
            AND NutrientValue >= 4
            AND FoodDescriptionF LIKE '%z%';
        ```
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 4 : Pas de gaspillage!

        Votre enseignant de maths du secondaire entre dans votre bureau!

        Il a rejoint un organisme environnementaliste et est convaincu d'avoir découvert un complot!

        Il a besoin d'aliments ou l'`ID` est **divisé parfaitement** par `RefuseAmount` (la quantité de déchets).

        Vous tentez de lui expliquer que cela n'a aucun sens, mais il insiste!

        > **Remarque** : Un nombre est parfaitement divisé par un autre si le reste après la division est 0 (le `%` des deux nombres est `0`).
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 4 : Solution

        ```sql
        SELECT fn.FoodID, FoodDescriptionF, RefuseAmount
        FROM FOOD_NAME fn JOIN REFUSE_AMOUNT ra
            ON fn.FoodID = ra.FoodID
        WHERE RefuseID = 750
            AND (fn.FoodID % RefuseAmount = 0);
        ```
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 4b : Déchets = profits

        Votre ancien prof est un peu trop enthousiaste!

        Il vous offre `0.50` $ pour **chaque unité de déchets** dans votre liste plutôt que le 200 $ que vous facturez habituellement.

        Vous n'êtes pas certaines s'il tente de vous arnaquer ou s'il a bel et bien perdu la tête.

        > Modifiez la requête précédente pour calculer votre paie et vérifier!
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Défi 4b : Solution

        ```sql
        SELECT (SUM(RefuseAmount) * 0.50) AS Paie
        FROM FOOD_NAME fn JOIN REFUSE_AMOUNT ra
            ON fn.FoodID = ra.FoodID
        WHERE RefuseID = 750
            AND (fn.FoodID % RefuseAmount = 0);
        ```

        > (Espérons qu'il n'est pas contagieux...)
      </script>
    </article>
  </section>

  <section>
    <header class="slide title" data-toc>
      <h1>Conclusion</h1>
    </header>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Ce que nous avons vu aujourd'hui :

        1. Ce que sont les données et les BD
        1. Ce qu'est le SQL
        1. Lecture de données avec `SELECT`, `FROM` et `JOIN`
        1. Recherche de texte avec `LIKE`
        1. Filtrer des résultats avec `WHERE`
        1. Trier avec `ORDER BY`
        1. Classer avec `GROUP BY`
        1. Calculer des champs avec les maths SQL
        1. Analyse de données existantes
      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Aidez-nous à nous améliorer!

        Nous avons créé ce sondage anonyme pour mieux vous connaître.

        Nous sommes engagés à rejoindre des gens traditionnellement exclus des domaines de la technologie et du code afin de favoriser la diversité dans le secteur. En nous fournissant des informations sur vous, vous nous aidez à atteindre notre objectif.

        Personnes apprenantes : donnez-nous votre avis ici : [https://bit.ly/CLCLLCSondage](https://bit.ly/CLCLLCSondage)

        Personnes mentores : donnez-nous votre avis ici : [https://bit.ly/CLCMentorSondage](https://bit.ly/CLCMentorSondage)

      </script>
    </article>

    <article class="slide small-type" data-markdown>
      <script type="text/template">
        #Prochaines étapes

        Ces ressources sont en anglais, mais certaines peuvent être traduites :

        * Mettez vos connaissances à l'épreuve à l'aide <a href="https://www.w3schools.com/sql/sql_exercises.asp">d'exercices</a> et d'un <a href="https://www.w3schools.com/sql/sql_quiz.asp">jeu-questionnaire</a>.
        * Apprenez à <a href="https://www.w3schools.com/sql/sql_create_table.asp">créer des tables</a>, à
        <a href="https://www.w3schools.com/sql/sql_update.asp">modifier des lignes</a> ou à <a href="https://www.w3schools.com/sql/sql_delete.asp">en supprimer</a>.
        * Utilisez le SQL pour jouer à un jeu et <a href="https://mystery.knightlab.com/">résoudre un meurtre mystérieux (en anglais)</a>!
        * Relevez d'autres défis sur le site <a href="https://sqlzoo.net/">SQL Zoo</a>!

        > Bien sûr, n'hésitez pas à **créer vos propres projets** et à **utiliser vos connaissances au travail**!
      </script>
    </article>

    <!-- Last slide -->
    <article class="slide last">
      <h1>Merci!</h1>
      <h2 class="heading-bg">
        <span>Gestion de données avec le SQL</span>
      </h2>
      <ul>
        <li><a href="http://twitter.com/learningcode">@learningcode</a></li>
        <li><a href="https://twitter.com/search?q=%23femmesenprogrammation&src=typd">#femmesenprogrammation</a></li>
      </ul>
      <!--<img class="instructor" src="http://cl.ly/image/0r3Q3H110G36/profile-generic.jpg" alt="Responsable de la formation">
      <h2><span class="cursive">avec</span> Nom du responsable de la formation</h2>
      <ul>
        <li><a href="mailto:">bonjour@courriel.com</a></li>
        <li><a href="#">monsite.com</a></li>
      </ul>-->

      <p class="attribution">Diapositives créées par <a href="http://christinatruong.com">Christina Truong</a> avec le modèle de <a href="https://github.com/LeaVerou/csss">Lea Verou</a> et <a href="http://lab.hakim.se/reveal-js/">reveal.js</a>.</p>
    </article>
  </section>

  <script src="framework/scripts/jquery-3.4.1.slim.min.js"></script>
  <script src="framework/scripts/inspire.js"></script>

  <!-- Enlevez les commentaires pour les modules dont vous avez besoin -->
  <script src="framework/scripts/plugins/css-edit.js"></script>
  <script src="framework/scripts/plugins/css-snippets.js"></script>
  <script src="framework/scripts/plugins/css-controls.js"></script>
  <!-- <script src="plugins/code-highlight.js"></script>-->

  <script src="framework/scripts/plugins/markdown/marked.js"></script>
  <script src="framework/scripts/plugins/markdown/markdown.js"></script>
  <script src="framework/scripts/plugins/a11y/plugin.js"></script>
  <script src="framework/scripts/plugins/highlight/highlight-8.4.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="framework/scripts/llc.js"></script>
</body>
</html>
